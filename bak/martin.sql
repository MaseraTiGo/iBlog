-- MySQL dump 10.13  Distrib 5.7.28, for Linux (x86_64)
--
-- Host: localhost    Database: iblog
-- ------------------------------------------------------
-- Server version	5.7.28

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `articles_articles`
--

DROP TABLE IF EXISTS `articles_articles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles_articles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(20) NOT NULL,
  `img` varchar(100) DEFAULT NULL,
  `add_time` datetime(6) NOT NULL,
  `click_nums` int(11) NOT NULL,
  `comment_nums` int(11) NOT NULL,
  `fav_nums` int(11) NOT NULL,
  `info` varchar(200) NOT NULL,
  `is_index` tinyint(1) NOT NULL,
  `content` longtext NOT NULL,
  `categorie_id` int(11) NOT NULL,
  `belong_to_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `articles_articles_categorie_id_d32c316a_fk_articles_` (`categorie_id`),
  KEY `articles_articles_belong_to_id_6c4aacb3_fk_articles_info_id` (`belong_to_id`),
  CONSTRAINT `articles_articles_belong_to_id_6c4aacb3_fk_articles_info_id` FOREIGN KEY (`belong_to_id`) REFERENCES `articles_info` (`id`),
  CONSTRAINT `articles_articles_categorie_id_d32c316a_fk_articles_` FOREIGN KEY (`categorie_id`) REFERENCES `articles_categories` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles_articles`
--

LOCK TABLES `articles_articles` WRITE;
/*!40000 ALTER TABLE `articles_articles` DISABLE KEYS */;
INSERT INTO `articles_articles` VALUES (2,'uwisg 配置文件','articles/timg_1.jpeg','2019-12-16 22:59:00.000000',51,0,0,'uwisg 配置文件',1,'<p><br/></p><pre class=\"brush:python;toolbar:false\">#&nbsp;uwsig使用配置文件启动\r\n[uwsgi]\r\n#&nbsp;项目所在的根目录\r\nchdir=/root/iblog\r\n#&nbsp;指定项目的application,区别于启动命令--wsgi-filemysite/wsgi.py\r\nmodule=blog.wsgi:application\r\n#the&nbsp;local&nbsp;unix&nbsp;socket&nbsp;file&nbsp;than&nbsp;commnuincate&nbsp;to&nbsp;Nginx\r\n#&nbsp;指定sock的文件路径，这个sock文件会在nginx的uwsgi_pass配置，用来nginx与uwsgi通信&nbsp;\r\n#&nbsp;支持ip+port模式以及socket&nbsp;file模式\r\n#socket=%(chdir)/uwsgi_conf/uwsgi.sock\r\nsocket=&nbsp;内网ip:9012\r\n#&nbsp;进程个数&nbsp;\r\nprocesses&nbsp;=&nbsp;4\r\n#&nbsp;每个进程worker数\r\nworkers=5\r\n#&nbsp;uwsgi的进程名称前缀\r\nprocname-prefix-spaced=blog\r\n#&nbsp;py文件修改，自动加载\r\npy-autoreload=1&nbsp;\r\n\r\n#&nbsp;指定IP端口，web访问入口\r\n#http=0.0.0.0:9000\r\n\r\n#&nbsp;指定多个静态文件：static目录和media目录,也可以不用指定该静态文件，在nginx中配置静态文件目录\r\n#&nbsp;uwsgi有自己的配置语法，详细可参考官网，无需写绝对路径，可以用循环、判断等高级配置语法\r\nfor&nbsp;=static&nbsp;media\r\nstatic-map=/static=&nbsp;/root/iblog/static/\r\nendfor&nbsp;=\r\n\r\n#&nbsp;启动uwsgi的用户名和用户组\r\nuid=root\r\ngid=root\r\n\r\n#&nbsp;启用主进程\r\nmaster=true\r\n#&nbsp;自动移除unix&nbsp;Socket和pid文件当服务停止的时候\r\nvacuum=true\r\n\r\n#&nbsp;序列化接受的内容，如果可能的话\r\nthunder-lock=true\r\n#&nbsp;启用线程\r\nenable-threads=true\r\n#&nbsp;设置一个超时，用于中断那些超过服务器请求上限的额外请求\r\nharakiri=30\r\n#&nbsp;设置缓冲\r\npost-buffering=4096\r\n\r\n#虚拟环境路径\r\nvirtualenv&nbsp;=&nbsp;/root/iblogv/\r\n#&nbsp;设置日志目录\r\ndaemonize=/root/logs/ibloguwsgi.log\r\n#&nbsp;uWSGI进程号存放\r\npidfile=/root/conf/uwsgi.pid\r\n#monitor&nbsp;uwsgi&nbsp;status&nbsp;通过该端口可以监控&nbsp;uwsgi&nbsp;的负载情况\r\n#&nbsp;支持ip+port模式以及socket&nbsp;file模式\r\n#&nbsp;stats=root/conf/uwsgi.status&nbsp;\r\n#stats&nbsp;=&nbsp;内网ip:9012</pre><p></p>',1,1),(3,'大黄蜂','articles/timg.jpeg','2019-12-19 00:00:00.000000',7,0,0,'',1,'<p><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1576710806567&di=8891c5c835a2ba32bfe17e7cfc459466&imgtype=0&src=http%3A%2F%2Fn.sinaimg.cn%2Fsinacn20115%2F181%2Fw640h341%2F20190108%2Ff917-hrkkwef6494747.jpg\"/> </p>',2,1),(4,'皮卡丘','articles/002.jpg','2019-12-19 00:00:00.000000',6,0,0,'',1,'<p><img src=\"/media/articles/001_20191219043014_756.jpg\" style=\"\"/> </p><p><img src=\"/media/articles/002_20191219043023_997.jpg\" style=\"\"/> </p><p><img src=\"/media/articles/003_20191219043031_933.jpg\" style=\"\"/> </p><p><br/> </p>',2,1),(5,'猫老师','articles/8_150608141913_5.jpg','2019-12-19 00:00:00.000000',6,0,0,'',1,'<p><img src=\"/media/articles/04350190.jpg.238_20191219043255_433.jpg\" style=\"\"/></p><p><img src=\"/media/articles/3_141205144557_2_20191219043255_195.jpg\" style=\"\"/></p><p><img src=\"/media/articles/20150731185500_Ejd5N_20191219043255_234.jpeg\" style=\"\"/></p><p><br/></p>',2,1),(6,'nginx 配置文件','articles/u25535792382939039713fm26gp0.jpg','2019-12-19 00:00:00.000000',13,0,0,'nginx 配置文件',1,'<pre class=\"brush:python;toolbar:false\">#root权限\r\nuser&nbsp;&nbsp;root;\r\nworker_processes&nbsp;&nbsp;1;\r\n\r\nevents&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;worker_connections&nbsp;&nbsp;1024;\r\n}\r\nhttp&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mime.types;\r\n&nbsp;&nbsp;&nbsp;&nbsp;default_type&nbsp;&nbsp;application/octet-stream;\r\n&nbsp;&nbsp;&nbsp;&nbsp;sendfile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on;\r\n&nbsp;&nbsp;&nbsp;&nbsp;keepalive_timeout&nbsp;&nbsp;65;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8080;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;&nbsp;index.html&nbsp;index.htm;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;=&nbsp;/50x.html&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;#服务器连接的超时时间\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_connect_timeout&nbsp;10;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#连接成功后,等候后端服务器响应时间\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_read_timeout&nbsp;180;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#后端服务器数据回传时间\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_send_timeout&nbsp;5;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#缓冲区的大小\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_buffer_size&nbsp;16k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#每个连接设置缓冲区的数量为number，每块缓冲区的大小为size\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_buffers&nbsp;4&nbsp;32k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#开启缓冲响应的功能以后，在没有读到全部响应的情况下，写缓冲到达一定大小时，nginx一定会向客户端发送响应，直到缓冲小于此值。\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_busy_buffers_size&nbsp;96k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#设置nginx每次写数据到临时文件的size(大小)限制\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_temp_file_write_size&nbsp;96k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#从后端服务器接收的临时文件的存放路径\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_temp_path&nbsp;/tmp/temp_dir;\r\n&nbsp;&nbsp;&nbsp;&nbsp;#设置缓存的路径和其他参数。被缓存的数据如果在inactive参数（当前为1天）指定的时间内未被访问，就会被从缓存中移除\r\n&nbsp;&nbsp;&nbsp;&nbsp;proxy_cache_path&nbsp;/tmp/cache&nbsp;levels=1:2&nbsp;keys_zone=cache_one:100m&nbsp;inactive=1d&nbsp;max_size=10g;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;90;\r\n&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;111.229.151.233;\r\n&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;/root/iblog/;\r\n&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;80;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#公网ip\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;111.229.151.233;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;/root/logs/iblogaccess.log;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset&nbsp;utf-8;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#error_page&nbsp;404&nbsp;/404.html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#error_page&nbsp;500&nbsp;502&nbsp;503&nbsp;504&nbsp;/50x.html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#nginx转发动态请求到uWSGI\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;uwsgi_params;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uwsgi_connect_timeout&nbsp;20;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#公网ip\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uwsgi_pass&nbsp;111.229.151.233:9012;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#静态资源；如果写成/static/,nginx无法找到项目静态文件路径\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/static&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;/root/iblog/static;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#媒体资源；如果写成/media/,nginx无法找到项目媒体文件路径\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/media&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;/root/iblog/media;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##要缓存文件的后缀\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;.*\\.(gif|jpg|png|css|js)(.*)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#nginx缓存里拿不到资源，向该地址转发请求，拿到新的资源，并进行缓存\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy_pass&nbsp;http://111.229.151.233:90;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置后端服务器“Location”响应头和“Refresh”响应头的替换文本\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy_redirect&nbsp;off;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#允许重新定义或者添加发往后端服务器的请求头\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy_set_header&nbsp;Host&nbsp;$host;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#指定用于页面缓存的共享内存，对应http层设置的keys_zone\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy_cache&nbsp;cache_one;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#为不同的响应状态码设置不同的缓存时间\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy_cache_valid&nbsp;200&nbsp;302&nbsp;24h;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy_cache_valid&nbsp;301&nbsp;10d;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy_cache_valid&nbsp;any&nbsp;5m;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#缓存时间\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expires&nbsp;30d;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#静态资源返回的报头\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_header&nbsp;wall&nbsp;&quot;hey!guys!give&nbsp;me&nbsp;a&nbsp;star.&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>',1,1),(7,'24小时与自己对话','articles/favicon.ico','2019-12-19 05:16:00.000000',25,0,0,'',1,'<style type=\"text/css\">p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 19.0px; font: 13.0px \'Helvetica Neue\'; color: #000000}</style><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"></span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"><br/> </span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"><br/> </span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">黑夜里的雨水</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">在清晨蒸发</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">金黄色的黎明在眼前跳动</span></p><p class=\"p1\"><br/> </p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">我不想过河</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">渔夫撑船在河中央</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">渡一条鱼上岸</span></p><p class=\"p1\"><br/> </p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">那里麦芽熟了</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">熬成糖</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">只要汁水不要米</span></p><p class=\"p1\"><br/> </p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">像只猫在夜里起舞</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">看它的眼睛里</span></p><p class=\"p1\"><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\">是怎样的世界</span></p><p class=\"p1\"><br/> </p><p><br/> </p><p style=\"display:none;\" data-background=\"background-repeat:repeat; background-position:center center; background-image:url(http://111.229.151.233/media/articles/bgf_9_20191219054420_811.jpg);\"><br/></p>',3,1),(8,'夏夜','articles/hh.png','2019-12-19 14:19:00.000000',12,0,0,'漫漫',1,'<p>风起的时候</p><p>天就黑了</p><p><br/></p><p>池塘一边的老少</p><p>替了知了</p><p>盖过了虫鸣蛙叫</p><p>地上扑朔的影</p><p>是路灯上翻飞的蛾</p><p>影子和飞蛾都在欢笑</p><p><br/></p><p>水中的浮漂</p><p>不摇不晃</p><p>今晚亦或明晚</p><p>他执杆不语</p><p>离了灯光</p><p>也没有了喧嚣</p><p><br/></p>',3,2),(9,'项目部署步骤','articles/timg_1_veLsvNk.jpeg','2019-12-19 16:25:00.000000',10,0,0,'',1,'<p>1.准备云服务器和域名</p><p>2.安装环境 python3.7</p><p>3.安装数据库 Mysql</p><p>4.创建项目虚拟环境</p><p>5.建立代码仓库</p><pre class=\"brush:python;toolbar:false\">#存储git&nbsp;用户名密码&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;cd&nbsp;.git\r\n&nbsp;&nbsp;&nbsp;&nbsp;vim&nbsp;config\r\n&nbsp;&nbsp;&nbsp;&nbsp;```\r\n&nbsp;&nbsp;&nbsp;&nbsp;[credential]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;helper&nbsp;=&nbsp;store\r\n&nbsp;&nbsp;&nbsp;&nbsp;```</pre><p>6.测试运行代码<br/> </p><p>7.安装nginx</p><p>8.安装uwsig</p><p><br/> </p>',1,1),(11,'荷','articles/荷_a7I842t.png','2019-12-21 09:11:00.000000',20,0,0,'EastIsNotWest',1,'<p>桥头欲攀荷，菡萏不可得</p><p>昨夜三更雨，清露落几颗</p><p>衰惨不成圆，尤忆红时色</p><p>花容难相映，却待秋风折</p><p><br/></p>',3,2),(12,'Python装饰器入门','articles/WeChat_Screenshot_20191228091108.png','2019-12-28 09:08:00.000000',31,0,0,'EastIsNotWest',1,'<h2 id=\"activity-name\" style=\"margin: 0px 0px 14px;padding: 0px;font-weight: 400;font-size: 22px;line-height: 1.4\"><span style=\"font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 1.25em; white-space: pre-wrap;\">函数</span><br/> </h2><h4 cid=\"n46\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">一级对象</span></h4><p cid=\"n47\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们知道在python中一切皆为对象， 而函数是一级对象， 有称为‘第一类对象’(first-class object)。这意味着函数可以像其他如字符串(str)、列表(list)等对象一样作为参数一样传递。例如下面这个列子：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n48\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">people</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">name</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">str</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;{name}, Gnt!&#39;</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">say_good_night</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;Johnathan&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">say_good_night</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">people</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;&gt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;Johnathan, Gnt!&#39;</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;</span></pre><p cid=\"n49\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们定义了两个函数people和say_good_night，然后将people这个函数作为了一个参数传给了say_good_night。</span></p><p cid=\"n50\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n51\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">内部函数</span></h4><p cid=\"n52\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">通常我们的函数都是定义在模块或者类中。不过， 在函数内部我们也是可以定义函数的，此时这个函数就称为‘内部函数’。（想一想， 类可不可以呢？自己试一试。）</span></p><p cid=\"n53\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">看个小例子：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n54\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">outter</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;I am in func of &quot;outter&quot;&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">inner</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;I am in func of &quot;inner&quot;&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </pre><p cid=\"n55\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">当我们调用outter()的时候， 输出会是什么呢？不放想一下。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n56\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;&gt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">outter</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;&gt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">I</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">am</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">of</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&quot;outter&quot;</span></span></pre><p cid=\"n57\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">为什么I am in func of &quot;inner&quot;没有输出呢？</span></p><p cid=\"n58\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">原因在于此时inner就相当于一个outter的一个局部变量。它直到outter被调用的时候才会被‘定义’。如果你尝试在outter外部调用它， 它会报inner未定义的错误，如下：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n59\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;&gt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">inner</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">---------------------------------------------------------------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">NameError</span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Traceback</span>&nbsp;(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">most</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">recent</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">call</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">last</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">ipython</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">input</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">18</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">bc10f1654870</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">module</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">----&gt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">inner</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">NameError</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">name</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;inner&#39;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">not</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">defined</span></span></pre><p cid=\"n60\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">那么， 怎么才能使用inner呢？没错， 作为一个局部变量， 它只能在outter内部使用， 你可以试试在outter内部写上:inner()。</span></p><h4 cid=\"n61\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">把函数作为返回值</span></h4><p cid=\"n62\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">在上面我们讲过， 函数可以作为参数值传递， 你肯定也想到了它可以作为返回值返回。是的， 它确实可以！看下面这个例子：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n63\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">operator</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">add</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">x</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">y</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">x</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">+</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">y</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">add</span></span></pre><p cid=\"n64\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这个例子中我们定义了一个函数operator， 然后定义了一个内部函数add。operator返回函数add，add函数返回传入参数的和，下面我们尝试运行一下：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n65\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">23</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">operator</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">24</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">24</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10</span></span></pre><p cid=\"n66\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">如我们期望的那样，5 + 5 =10。</span></p><p cid=\"n67\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">同时我们查看一下func</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n68\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">25</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">25</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">function</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">__main__</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">operator</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">locals</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">add</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">x</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">y</span>)<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span></span></pre><p cid=\"n69\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">它就是operator函数的内部add。</span></p><p cid=\"n70\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">至此， 我们已经讲完了装饰器所需的基础， 下面正式开始装饰器之旅把。</span></p><p cid=\"n71\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n72\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">简单的装饰器</span></h4><p cid=\"n73\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">现在我们有一个函数， 它从1一直加到10,000， 我们来统计一下它所花费的时间。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n74\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">import</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">time_cost</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_time_cost</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">s</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">perf_counter</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">c</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">perf_counter</span>()&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">s</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;time costs: {c}, the result is: &nbsp; &nbsp; {result}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>=<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10_000</span>): &nbsp; &nbsp;</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">sum</span>((<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">i</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">for</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">i</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">range</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10_1000</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">+</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>)))</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time_cost</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>)</span></pre><p cid=\"n75\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">上面的代码我们做了什么呢？</span></p><p cid=\"n76\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们将count_num函数作为参数传给了time_cost， 在time_cost</span></p><p cid=\"n77\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">的内部函数中， 我们调用了count_num的引用func，并计算了时间。最后返回了内部函数wrapper_time_cost的引用。</span></p><p cid=\"n78\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们运行一下试试：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n79\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">37</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0.007390180999664153</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5100550500</span></span></pre><p cid=\"n80\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这就是我们所说的“装饰”， 本例中我们给count_num函数“装了”一个时间统计功能，但是并没有修改count_num函数中的代码。</span></p><p cid=\"n81\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这个时候我们思考一下， 此时的count_num打印出来会是谁的引用呢？有了前面的知识， 你肯定很快就能想到，它指向了time_cost的内部函数wrapper_time_cost，没错，事实如此。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n82\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">38</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">function</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">__main__</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time_cost</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">locals</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_time_cost</span>()<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span></span></pre><p cid=\"n83\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">但是， 这有一个问题， 如果我们想知道count_num本来的样子有没有办法呢？</span></p><p cid=\"n84\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">当然有！而且不需要太多操作。</span></p><p cid=\"n85\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们只需要稍微修改即可。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n86\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">from</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">functools</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">import</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wraps</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># here</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">time_cost</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_time_cost</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; ...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wraps</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>)(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_time_cost</span>)&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># here</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">...</span></pre><p cid=\"n87\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">其实就是导入了一个wraps函数， 然后对我们内部函数‘装饰’了一遍。看看效果：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n88\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">41</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">41</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">function</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">__main__</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>=<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10000</span>)<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span></span></pre><p cid=\"n89\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">嗯， 还不错不是么？</span></p><p cid=\"n90\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">现在是不是对装饰器有一个相对的了解了？</span></p><p cid=\"n91\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">简单点来说：装饰器就是在不修改一个函数情况下，为它增加新的属性或功能。</span></p><p cid=\"n92\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">或者换句话说：装饰器包装一个函数， 并改变它的行为。</span></p><p cid=\"n93\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n94\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">语法糖</span></h4><p cid=\"n95\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">英文原文‘syntactic sugar’， 中文译作‘语法糖’。很直观， 也很合适， 因为熟悉了以后， 它真的很甜。</span></p><p cid=\"n96\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">上面尽管我们已经实现了装饰， 但是多多少少看上去差了那么些味道， 少了些‘甜味’， 哈哈， 强行解释一波。不过确实如此， 假如我们要为多个函数加上上面写的计时器。每个那么写一遍，总觉得不是那么回事且笨拙。</span></p><p cid=\"n97\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"> 于是乎语法糖就应运而生。让我们可以用一种简单的方式来实现。‘@’， 对，只需要在需要装饰的函数上面加上这个符号并跟上对应的函数。还是使用上面的例子， 做对应的修改。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n98\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">import</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">from</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">functools</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">import</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wraps</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">time_cost</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@wraps</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_time_cost</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">s</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">perf_counter</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">c</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">perf_counter</span>()&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">s</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;time costs: {c}, the result is: &nbsp; &nbsp; {result}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>=<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10_000</span>): &nbsp; &nbsp;</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">sum</span>((<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">i</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">for</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">i</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">range</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10_1000</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">+</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>)))</span></pre><p cid=\"n99\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">如此一来， 我们运行count_num 不再需要那么繁琐了， 简单的直接调用就可以了：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n100\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">44</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0.007472928000424872</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5100550500</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">45</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">45</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">function</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">__main__</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>=<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10000</span>)<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span></span></pre><p cid=\"n101\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">结果与之前无二。</span></p><p cid=\"n102\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">如果你有其他的函数需要计时， 只需在你的函数前面加上@time_cost即可， 这也实现装饰器复用。</span></p><p cid=\"n103\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n104\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">带参数的装饰器</span></h4><p cid=\"n105\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">上面的例子中，我们的count_num函数实际上是接受了一个参数的，只是我们给了一个默认值，现在我们想要计算1到20,000的和， 如果我们传入20,000结果会是我们想要的么？不放试一下：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n106\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">26</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">20_000</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">---------------------------------------------------------------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">TypeError</span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Traceback</span>&nbsp;(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">most</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">recent</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">call</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">last</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">ipython</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">input</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">26</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">d8a41d05f67f</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">module</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">----&gt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">20_000</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">TypeError</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_time_cost</span>()&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">takes</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">positional</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">arguments</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">but</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">was</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">given</span></span></pre><p cid=\"n107\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">很不幸， 报错了， 它说wrapper_time_cost这个函数不需要参数，但是我们传进去了一个。</span></p><p cid=\"n108\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">问题很明朗了：我们就让它接受一个参数不就可以了么？来试试吧。其它不动， 我们给wrapper_time_cost增加一个参数，向下面这样：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n109\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_time_cost</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span></pre><p cid=\"n110\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">再来试试， 看看结果如何：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n111\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">28</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">20_000</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0.00742289499976323</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5100550500</span></span></pre><p cid=\"n112\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">成功了！</span></p><p cid=\"n113\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">但是，对，但是出现了， 前面我们说到装饰器可以复用， 但是这个可以么？假如我们还有一个say_hi的函数， 它接受两个参数， 我们还能用这个计时装饰器来计时么？</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n114\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">say_hi</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">src_name</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">to_name</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;{src_name} say hi to {to_name}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">say_hi</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;tom&#39;</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;anny&#39;</span>)</span></pre><p cid=\"n115\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">再次报错：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n116\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\">TypeError:&nbsp;wrapper_time_cost()&nbsp;takes&nbsp;1&nbsp;positional&nbsp;argument&nbsp;but&nbsp;2&nbsp;weregiven</pre><p cid=\"n117\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">错误很明显， 参数个数不对。在实际开发中， 我们的不同的函数接受的参数必定不同，如果这样写，肯定是满足不了复用的，这个时候就该*args， **kwargs上场了。</span></p><p cid=\"n118\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">*args用于接收不定长的位置参数。</span></p><p cid=\"n119\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">**kwargs用于接收不定长的关键字参数。</span></p><p cid=\"n120\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这似乎可以解决上诉问题了， 老样子， 用代码说话。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n121\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_time_cost</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># run</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">20_000</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">say_hi</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;tom&#39;</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;anny&#39;</span>)</span></pre><p cid=\"n122\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">结果如期， 没毛病。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n123\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">33</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">20_000</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0.007542204999936075</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5100550500</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">34</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">say_hi</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;tom&#39;</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;anny&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">tom</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">say</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">hi</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">to</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">anny</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0.00018185200042353244</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">None</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># 结果是None是因为在say_hi这个函数中，我们没有返回任何东西</span></span></pre><p cid=\"n124\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n125\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">从装饰器中返回值</span></h4><p cid=\"n126\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">在上面的例子中， 你可能一经发现， 我们只是打印出了被装饰函数的返回值， 我们如果要接收这个值该怎么做呢？</span></p><p cid=\"n127\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">return, 对， 就是这么简单。</span></p><p cid=\"n128\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">让我们在装饰器内部函数里加上return。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n129\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_time_cost</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">s</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">perf_counter</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">c</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">perf_counter</span>()&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">s</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;time costs: {c}, the result is: &nbsp; &nbsp; {result}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># run count_num</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">50_000</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;res is: {res}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># output---------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">36</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">50_000</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0.007627519000379834</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5100550500</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">37</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;res is: {res}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5100550500</span></span></pre><p cid=\"n130\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n131\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">练练手</span></h4><p cid=\"n132\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">目前， 装饰器我们已经了解的差不多了， 是时候来几个有用的列子练练手了。</span></p><p cid=\"n133\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n134\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">参数校验</span></h4><p cid=\"n135\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">现在假如我们有两个函数， add和multi分别打印两个正整数相加和相乘的结果。我们不知道用户会传入多少参数、什么样的参数， 为了程序正常执行不报错， 我们需要对参数进行校验， 装饰器可以很好的胜任这个工作。来看下面的代码：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n136\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">args_check</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_args_check</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">if</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">len</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>)&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">!</span>=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">2</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;args num error, we need two, get %d&#39;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">%</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">len</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>))</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">else</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">a</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">b</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">if</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">isinstance</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">a</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">int</span>)&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">and</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">isinstance</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">b</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">int</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_args_check</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@args_check</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">add</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">x</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">y</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">x</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">+</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">y</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@args_check</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">multi</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">x</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">y</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">x</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">y</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># output--------------------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">add</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">error</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">we</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">need</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">two</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">get</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">multi</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">2</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">error</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">we</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">need</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">two</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">get</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">add</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">4</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">7</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">multi</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">4</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">12</span></span></pre><p cid=\"n137\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">还不错！</span></p><p cid=\"n138\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n139\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">缓存结果</span></h4><p cid=\"n140\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">现在我们写一个用于计算阶乘的函数。（这里涉及到函数递归， 如果有不清楚递归的请自行查阅）。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n141\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">factorial</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">if</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;负数没有阶乘&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">elif</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span>=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">else</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">factorial</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">-</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>)</span></pre><p cid=\"n142\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">测试一下：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n143\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">factorial</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">8</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;&gt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">40320</span></span></pre><p cid=\"n144\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">没问题，但是有一点， 我们发现计算任意一个num， 我们都需要从1算到num，哪怕我们可能在此之前计算过num-1,这无疑是做了很多重复工作， 讲到这里， 你可能想到将算过的结果保存下来， 以备后用， 没错， 让我们用装饰器试试：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n145\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">factorial_memcache</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res_dict</span>&nbsp;= {}</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_factorial_memcache</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">if</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res_dict</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res_dict</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>]</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">else</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_factorial_memcache</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">calls</span>&nbsp;+=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res_dict</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>] =&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">res</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_factorial_memcache</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">calls</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_factorial_memcache</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@factorial_memcache</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">factorial</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><p cid=\"n146\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">在装饰器factorial_memcache中， 我们增加了一个名为res_dcit的字典， 用于存贮计算过阶乘的值， 还给内部函数wrapper_factorial_memcache挂了一个calls属性用来统计func调用次数， 运行一下， 看看效果：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n147\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">104</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">factorial</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">6</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">104</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">720</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">105</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">factorial</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">calls</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">105</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">6</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">106</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">factorial</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">calls</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">107</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">factorial</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">8</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">107</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">40320</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">108</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">factorial</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">calls</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">108</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">2</span></span></pre><p cid=\"n148\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">完全符合预期！</span></p><p cid=\"n149\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">题外话：你可能注意到了factorial.calls = 0， 思考一下为什么。</span></p><h4 cid=\"n150\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">插件注册</span></h4><p cid=\"n151\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">最后一个练手， 我们定义一个register装饰器， 让经过register装饰的函数都出现插件列表中。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n152\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">PLUGINS</span>&nbsp;= []</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">register</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">PLUGINS</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">append</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">__name__</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@register</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">add</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@register</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">multi</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;</span></pre><p cid=\"n153\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这个地方我们写了一个特别简单的装饰器register，它实现的功能就是把被它装饰的函数的名称放到插件列表里。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n154\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">PLUGINS</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>]: [<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;add&#39;</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;multi&#39;</span>]</span></pre><p cid=\"n155\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">注册成功。额， 是不是感觉简单到有点令人发指......</span></p><p cid=\"n156\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><p cid=\"n157\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n158\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">高级一点的装饰器</span></h4><p cid=\"n159\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">截止到现在， 相信大家已经对装饰器有一个足够清晰的认识与理解了， 也能写出一些满足自己需求的装饰器了。但是， 还有更高级的或者说复杂点的特性值得我们去学习，以便更好地解决我们的需求。</span></p><p cid=\"n160\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">下面就让我们深入一点吧。</span></p><h4 cid=\"n161\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">装饰类</span></h4><p cid=\"n162\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">前面我们所写的装饰器都是用作在一个普通的函数上的， 那么它类上可以不可以用装饰器呢？</span></p><p cid=\"n163\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">试试便知。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n164\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">from</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">random</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">import</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">randint</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">class</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">Test</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">lazy</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">sleep</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">randint</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5</span>))</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;woo...&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># output -------------------------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">16</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">t</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Test</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">6.409999855350179e-07</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">__main__</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Test</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">at</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0x000001DD1D737B00</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">17</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">t</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">lazy</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">17</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">bound</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">method</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Test</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">lazy</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">of</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&lt;</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">__main__</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Test</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">at</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0x000001DD1D737B00</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">18</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">t</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">lazy</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">woo</span>...</span></pre><p cid=\"n165\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这个例子我们定义了一个Test类， 它有一个实例方法lazy， 这个lazy方法随机sleep1-5 s，这里使用了之前的计时装饰器。</span></p><p cid=\"n166\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">根据结果， 不难看出， 这个装饰器在类实例化的时候起作用了，也就是说， 类也是可以被装饰的。下面我们来写一个单例模式（简单点来说就是一个类只能实例化出一个实例）加深一下印象。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n167\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">singleton</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">cls</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">cls</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">_instance</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">None</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_singleton</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">if</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">not</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">cls</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">_instance</span>:</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">cls</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">_instance</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">cls</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">cls</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">_instance</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_singleton</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@singleton</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">class</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">A</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span></pre><p cid=\"n168\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">本例中， 我们定义了一个类A， 并实现了一个singleton的装饰器，逻辑很简单， 先给传入的类挂上一个</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">instances属性并赋值None， 然后在内部函数中判断， 如果这个属性为None， 说明未实例化过， 那就实例化并赋值给</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">instance属性然后返回， 不为None的话就直接返回， 从而保证了实例的唯一性。</span></p><p cid=\"n169\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">你可能注意到传入的参数由func变成了cls， 这是因为我们装饰类的时候传入的是一个类。依然写成func也不会有功能上的问题， 但是会让人感到困惑。cls是一个约定的写法。</span></p><p cid=\"n170\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们来实例化一下这个类， 并比较是否确实是一个单例。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n171\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">a</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">A</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">4</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">b</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">A</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">a</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">b</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Out</span>[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">True</span></span></pre><p cid=\"n172\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这里我们用的是is来比较， 它可以对比两个对象的引用是否一样。</span></p><p cid=\"n173\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">装饰类还有一种方式是装饰类的方法。让我们用计时装饰器装饰本小结开始例子中的lazy方法吧！</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n174\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">class</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">Test</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">lazy</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">sleep</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">randint</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">1</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5</span>))</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;woo...&#39;</span>)</span></pre><pre spellcheck=\"false\" class=\"\" cid=\"n175\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Test</span>().<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">lazy</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">23</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Test</span>().<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">lazy</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">woo</span>...</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3.00124057000005</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">None</span></span></pre><p cid=\"n176\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">看来， 它睡了3s不是么。</span></p><p cid=\"n177\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">其实一些常用的装饰器已经内建在python中了， 如@classmethod、@staticmethod、@property这些都作用于类的函数。如感兴趣， 可自行查阅。</span></p><p cid=\"n178\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n179\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">类装饰器</span></h4><p cid=\"n180\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们前面写的装饰器都是基于函数的， 那么类可不可以作为装饰器呢？一起来尝试一下。</span></p><p cid=\"n181\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">首先让我们再回顾一下装饰器是怎么工作的：它接收一个函数或者类， 然后在对传入的类或者函数进行处理，并返回一个新的对象或原对象（还记得我们那个register装饰器吧）。</span></p><p cid=\"n182\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">好了， 让我开始吧。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n183\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">class</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">FakeLog</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">__init__</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">fake_log</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">fake_log</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;start--------------------&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;excuting func is: {self.func.__name__}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;end----------------------&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@FakeLog</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">run</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;I am running!&#39;</span>)</span></pre><p cid=\"n184\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">当你在敲完上面的代码的时候会立马得到一下输出：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n185\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">start</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">--------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">excuting</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">run</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">I</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">am</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">running</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">!</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">end</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">----------------------</span></span></pre><p cid=\"n186\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">而且， 当你调用run()的时候，错误出现了：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n187\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;&gt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">run</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">&gt;&gt;&gt;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">TypeError</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;FakeLog&#39;</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">not</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">callable</span></span></pre><p cid=\"n188\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">先思考一下为什么。</span></p><p cid=\"n189\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">立马得到输出是因为， 当我们用类做装饰器的时候， 默认会调用</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_init__方法进行初始化（实例化一个类的时候总是会如此），并返回一个实例。在这个初始化函数中我们调用了fake_log，所以便立马有了上面那些信息。</span></p><p cid=\"n190\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">至于调用run()的时候报错， 那是因为此时的run已经变成FakeLog的一个实例对象， 这个是无法调用的。</span></p><p cid=\"n191\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这虽然说明了类可以作为装饰器， 但结果并不是我们想要的。我们想要的是自行调用run()。</span></p><p cid=\"n192\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">那么问题来了， 此时run是一个实例对象， 我们想要的是一个可调用的对象，怎么办呢？能不能把实例对象变成可调用对象呢？</span></p><p cid=\"n193\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">是时候让</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_call__出场了！</span></p><p cid=\"n194\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_call__是一个魔法函数， 它能让一个类的实例变的可调用。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n195\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">class</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">Test</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">__call__</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">name</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">str</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;hello, {name}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">26</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">t</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Test</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 85, 0)\"># output----------------------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">27</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">t</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;Johnathan&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">hello</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">Johnathan</span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span></pre><p cid=\"n196\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">对开始的例子我们做一下更改：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n197\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">class</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">FakeLog</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">__init__</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">__call__</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;start--------------------&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;excuting func is: {self.func.__name__}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;end----------------------&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@FakeLog</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">run</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;I am running!&#39;</span>)</span></pre><p cid=\"n198\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">代码敲完了， 并没有直接运行， 送了一口气......</span></p><p cid=\"n199\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这里我们把fake_log换成了</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_call__并增加了参数（既然可调用，能接受参数自然是应该的吧）。</span></p><p cid=\"n200\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">检验的时候到了，敲入run():</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n201\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">23</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">run</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">start</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">--------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">excuting</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">run</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">I</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">am</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">running</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">!</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">end</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">----------------------</span></span></pre><p cid=\"n202\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">嗯哼， Done！</span></p><p cid=\"n203\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">小结一下</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_init__方法用来存储传入的引用和做一些必要的初始化工作， 而</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">call</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">方法让实例对象变得可调用， 功能和之前内部函数wrapper</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">xxx一样。</span></p><p cid=\"n204\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n205\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">多层装饰器</span></h4><p cid=\"n206\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">讲了这么多， 我们所做的一直是给一个函数或者类添加单一的装饰器， 那么可不可以添加多个呢？答案很简单， 必须可以，结合我们开篇讲的那些知识， 很好理解。</span></p><p cid=\"n207\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">那么我们就来试试吧。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n208\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">fake_log</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_fake_log</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;start--------------------&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">f&#39;excuting func is: {func.__name__}&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;end----------------------&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_fake_log</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@fake_log</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">count_num</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num</span>=<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">10_000</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; ...</span></pre><p cid=\"n209\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">本例中， 我们写了一个伪日志记录装饰器， 它只是简单的打印开始与结束， 然后结合之前的计时装饰器和count_num函数， 来测试一下。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n210\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">8</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">count_num</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">start</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">--------------------</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">excuting</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_time_cost</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">time</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">costs</span>:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">0.007424178000064785</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">the</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">result</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">is</span>: &nbsp; &nbsp;&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">5100550500</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">end</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">----------------------</span></span></pre><p cid=\"n211\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">毫无意外的正常。可以看到我还在fake_log中打印了一个执行函数的名字， 这个是为了了解当有多个装饰器的时候， 它们的执行顺序：依次往下。这个很好理解， 不再赘述。</span></p><p cid=\"n212\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n213\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">带参数的装饰器</span></h4><p cid=\"n214\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">上面讲了那么多， 但是我们所写的装饰器默认都是不带参数的， 实际上， 装饰器也是可以带上参数的。</span></p><p cid=\"n215\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这有什么用呢？</span></p><p cid=\"n216\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">当然有用， 譬如我们有很多请求函数， 当失败后， 有些我们希望重新尝试两次， 有些三次等等， 这个时候参数就有了用处，。</span></p><p cid=\"n217\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">这里我们只是介绍一下如何加参数， 就只写一个简单的例子。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n218\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">repeat</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num_times</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">decorator_repeat</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_decorator_repeat</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">for</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">_</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">range</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num_times</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_decorator_repeat</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">decorator_repeat</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@repeat</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">3</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">say_love</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;i love u&#39;</span>)</span></pre><p cid=\"n219\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">我们给之前熟悉的装饰器又加了一层，用来接收参数。原理还是一样。</span></p><p cid=\"n220\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">运行一下：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n221\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">32</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">say_love</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">i</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">love</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">u</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">i</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">love</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">u</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">i</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">love</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">u</span></span></pre><p cid=\"n222\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><p cid=\"n223\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">既然已经讲过类装饰器， 不放我们也改一改这个repeat。</span></p><p cid=\"n224\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">先自己试试，在看下面的例子。</span></p><p cid=\"n225\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">小提示， 我们在</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">init</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"escape\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">_</span><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">中完成初始化工作。</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n226\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">class</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">Repeat</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">object</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">__init__</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num_times</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num_times</span>&nbsp;=&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num_times</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">__call__</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">wrapper_repeat</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">for</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">_</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">in</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">range</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 85, 170)\">self</span>.<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">num_times</span>):</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">func</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">*</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">args</span>,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(152, 26, 26)\">**</span><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">kwargs</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">return</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">wrapper_repeat</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(85, 85, 85)\">@Repeat</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">4</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">def</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 255)\">say_hate</span>():</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(51, 0, 170)\">print</span>(<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(170, 17, 17)\">&#39;go , I do not hate u&#39;</span>)</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">&nbsp; &nbsp;</span></pre><p cid=\"n227\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">走一个：</span></p><pre spellcheck=\"false\" class=\"\" cid=\"n228\" mdtype=\"fences\" style=\"margin-top: 15px;margin-bottom: 15px;padding: 8px 4px 6px;max-width: 100%;box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;text-align: left;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border-width: 1px;border-style: solid;border-color: rgb(231, 234, 237);border-radius: 3px;width: inherit;overflow-wrap: break-word !important\"><span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">In</span>&nbsp;[<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(17, 102, 68)\">46</span>]:&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">say_hate</span>()</span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">go</span>&nbsp;,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">I</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">do</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">not</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">hate</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">u</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">go</span>&nbsp;,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">I</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">do</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">not</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">hate</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">u</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">go</span>&nbsp;,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">I</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">do</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">not</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">hate</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">u</span></span><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> <span role=\"presentation\" style=\";padding: 0px 0.1px 0px 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\"><span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">go</span>&nbsp;,&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">I</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">do</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(119, 0, 136)\">not</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">hate</span>&nbsp;<span class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(0, 0, 0)\">u</span></span></pre><p cid=\"n229\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">简要的说一下， 当我们给say_hate加上@Repeat(4),它首先实例化出了一个Repeat对象， 我们且称为r，并给r的num_times赋值为4，然后执行r(say_hate)得到wrapper_repeat对象， 接着调用wrapper_repeat并将say_hate的参数传入（此处没有传参）。便有了上面的结果。</span></p><p cid=\"n230\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><br style=\";padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important\"/> </p><h4 cid=\"n231\" mdtype=\"heading\" class=\"\" style=\"margin: 1rem 0px;padding: 0px;font-size: 1.25em;max-width: 100%;box-sizing: border-box;break-after: avoid-page;break-inside: avoid;line-height: 1.4;cursor: text;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">总结</span></h4><p cid=\"n232\" mdtype=\"paragraph\" class=\"\" style=\"margin-top: 0.8em;margin-bottom: 0.8em;padding: 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;orphans: 4;white-space: pre-wrap;font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: start;overflow-wrap: break-word !important\"><span md-inline=\"plain\" class=\"\" style=\";padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important\">好了， 洋洋洒洒啰里啰嗦了这么多， 总算是要结束了， 篇幅较长， 可能对于初次接触的人员来说， 有那么点点不容易， 没事， 相信自己， 多看一看、写一写、思考思考， 终会发现其实也就是那么点事。</span></p><p><span style=\";padding: 0px\"><br/> </span><span class=\"media_tool_meta meta_extra meta_like\" id=\"like3\" style=\"margin: 0px 0px 0px 16px;padding: 0px;float: right;color: rgb(87, 107, 149);visibility: hidden\"><button id=\"js_like_btn\" style=\";padding: 0px;cursor: pointer;-webkit-appearance: none;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);outline: 0px;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;white-space: nowrap;font-size: 15px;font-family: inherit;line-height: 2.13333;color: rgb(87, 107, 149)\"></button></span></p><p><br/> </p>',1,1),(15,'Python中的上下文管理器小说','articles/up_down.png','2020-01-08 22:22:00.000000',5,0,0,'例如网络连接、数据库连接等等，我们在写这些相关的程序的时候， 往往都需要打开一个连接（创建一个对象）用完之后需要关关闭这个连接， 这一切都可以在上下文管理器中完成。',1,'<h4 cid=\"n2\" mdtype=\"heading\" class=\"md-end-block md-heading\" style=\"box-sizing: border-box;break-after: avoid-page;break-inside: avoid;font-size: 1.25em;margin-top: 1rem;margin-bottom: 1rem;position: relative;line-height: 1.4;cursor: text;white-space: pre-wrap;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">目录</span></h4><ul cid=\"n3\" mdtype=\"list\" data-mark=\"-\" style=\"box-sizing: border-box;margin-top: 0.8em;margin-bottom: 0.8em;padding-left: 30px;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;white-space: normal\" class=\" list-paddingleft-2\"><li><p cid=\"n5\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">前言</span></p></li><li><p cid=\"n7\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">从一次数据库的折腾说起</span></p></li><li><p cid=\"n9\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">糟糕出错了</span></p></li><li><p cid=\"n11\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">什么是上下文管理器</span></p></li><li><p cid=\"n13\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">实现自己的上下文管理器</span></p></li><li><p cid=\"n15\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">偷懒也不错</span></p></li></ul><p cid=\"n16\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><h4 cid=\"n17\" mdtype=\"heading\" class=\"md-end-block md-heading\" style=\"box-sizing: border-box;break-after: avoid-page;break-inside: avoid;font-size: 1.25em;margin-top: 1rem;margin-bottom: 1rem;position: relative;line-height: 1.4;cursor: text;white-space: pre-wrap;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">前言</span></h4><p cid=\"n18\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">本文主要讲一些关于上下文管理器的知识， 通过本文你可以了解到：</span></p><ul cid=\"n19\" mdtype=\"list\" data-mark=\"-\" style=\"box-sizing: border-box;margin-top: 0.8em;margin-bottom: 0.8em;padding-left: 30px;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif;white-space: normal\" class=\" list-paddingleft-2\"><li><p cid=\"n21\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">什么是上下文管理器</span></p></li><li><p cid=\"n23\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0px;margin-bottom: 0.5rem;white-space: pre-wrap;position: relative\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">如何实现一个上下文管理器</span></p></li></ul><p cid=\"n24\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">适宜人群：了解python的基础知识，仅此而已, 如果对于yield有些了解, better!。</span></p><p cid=\"n25\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><h4 cid=\"n26\" mdtype=\"heading\" class=\"md-end-block md-heading\" style=\"box-sizing: border-box;break-after: avoid-page;break-inside: avoid;font-size: 1.25em;margin-top: 1rem;margin-bottom: 1rem;position: relative;line-height: 1.4;cursor: text;white-space: pre-wrap;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">从一次&quot;数据库&quot;的折腾说起</span></h4><p cid=\"n27\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">作为程序员, 我们不仅要会码代码,更要知道码代码是为业务逻辑服务的, 而涉及到业务逻辑这块之后, 数据是一个绕不开的东西, 数据从哪里来呢?大多数时候是从数据库里取用的, 当然你说你是从txt,log等等文件里取的, 我是一点办法也没有呀~</span></p><p cid=\"n28\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">既然如此, 我们首先要做的就是连接数据库了, 我正如此这般想着, 这般做着......</span></p><p cid=\"n29\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"strong\" class=\"\" style=\"box-sizing: border-box\"><strong style=\"box-sizing: border-box\">Attention</strong></span><span md-inline=\"plain\" style=\"box-sizing: border-box\">: 下面的例子中, 我并不打算来个数据库连接实战, 而是为了配合我慢慢引入今日主角而构造的一个&#39;类数据库&#39;.且慢慢看吧!</span></p><p cid=\"n30\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">首先我实现了一个简单的类用来模拟连接、并取用数据。</span></p><p cid=\"n31\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">Talk is cheap, show me the code!</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n32\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">class</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">SuperEast</span>(<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">object</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_src</span> = <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;a 4 apple, b 4 ball&#39;</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span> = []</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_max_connection</span> = <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">5</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_used_obj_pool</span> = []</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__init__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_name</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">conn_num</span> <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">&lt;</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_max_connection</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">pass</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">else</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;pool is full&#39;</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__new__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">cls</span>, <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">*</span><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">args</span>, <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">**</span><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">kwargs</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">obj</span> = <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">super</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>, <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">cls</span>).<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">__new__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">cls</span>, <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">*</span><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">args</span>, <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">**</span><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">kwargs</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">obj</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(85, 85, 85)\">@property</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">max_connections</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_max_connection</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(85, 85, 85)\">@max_connections</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">setter</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">max_connections</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">value</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_max_connection</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">value</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(85, 85, 85)\">@property</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">name</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_name</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(85, 85, 85)\">@property</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">get_data</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_src</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">else</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">raise</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">Exception</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;create connection first!&#39;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(85, 85, 85)\">@property</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">conn_num</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">len</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">connect</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">len</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span>) <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">&lt;</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_max_connection</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">append</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">disconnect</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">del</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span>[<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_access_permission</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">index</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>)]</span></pre><p cid=\"n33\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><p cid=\"n34\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">就这个类简单的说明一下:</span></p><p cid=\"n35\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">假装类SuperEast是一个数据库.它里面的数据是_src的值, 然后定义了一些方法用来模拟数据库的操作:</span></p><p cid=\"n36\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">连接: connect</span></p><p cid=\"n37\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">断开连接: disconnect</span></p><p cid=\"n38\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">获取值: get_data</span></p><p cid=\"n39\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">获取连接名字: name</span></p><p cid=\"n40\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">获取设置最大连接数: max_connections 默认是5</span></p><p cid=\"n41\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">当前连接数: conn_num</span></p><p cid=\"n42\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">基本逻辑是：实例化一个SuperEast对象， 然后调用connect方法连接到这个数据库(类),每次连接之前会检查当前连接数是否小于等于最大连接数， 如果大于则连接失败， 否则当前连接数加一。连接成功后可以通过get_data获取里面的值。</span></p><p cid=\"n43\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这个过程中因为有最大连接数的限制, 所以如果我们要创建大于最大连接数的连接时要记得每次操作完就断开连接释放资源。</span></p><p cid=\"n44\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">话不多说, 下面用一段代码来测试一下:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n45\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">10</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">connect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">get_data</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">disconnect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">time</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">sleep</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">1</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(170, 85, 0)\"># -----------------------almighty dividing line---------------------------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">output</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;...</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">Process</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">finished</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">with</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">exit</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">code</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">0</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span></pre><p cid=\"n46\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\"> 可以看到虽然我们的最大连接数只有5, 但是因为我们每次用完之后及时释放(调用disconnect)了资源, 所以及时我们创建了10连接也依然毫无问题.</span></p><p cid=\"n47\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">nice!工作的还不错不是么。</span></p><p cid=\"n48\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><h4 cid=\"n49\" mdtype=\"heading\" class=\"md-end-block md-heading\" style=\"box-sizing: border-box;break-after: avoid-page;break-inside: avoid;font-size: 1.25em;margin-top: 1rem;margin-bottom: 1rem;position: relative;line-height: 1.4;cursor: text;white-space: pre-wrap;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">糟糕出错了</span></h4><p cid=\"n50\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">然而, 实际开发过程中, 情况肯定不会这般简单, 取个数据打印一下?怎么可能!拿手里一把一把的头发都不答应！ 所以, 我们大胆假设前五个的连接取完数据后做了一些业务处理（花式操作）, 我们的业务逻辑, 应该说花式操作是来了个 1/0 的运算......且看下面:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n51\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">awesome_operate</span>():</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">1</span> <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">/</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">0</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">10</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">connect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">get_data</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">0</span>, <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">5</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">awesome_operate</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">disconnect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ZeroDivisionError</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">as</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">time</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">sleep</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">1</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;I am glad to do this!&#39;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(170, 85, 0)\"># -----------------------almighty dividing line---------------------------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">output</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">Traceback</span> (<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">most</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">recent</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">call</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">last</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">pool</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">is</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">full</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">File</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;D:/1ston_martin/workspace/codes/AutoregScripts/src/TestScripts/test.py&quot;</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">line</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">123</span>, <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">&lt;</span><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">module</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">&gt;</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">get_data</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp;<span class=\"cm-variable cm-error\" style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">File</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;D:/1ston_martin/workspace/codes/AutoregScripts/src/TestScripts/test.py&quot;</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">line</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">104</span>, <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">get_data</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">raise</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">Exception</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;create connection first!&#39;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">Exception</span>: <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">create</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">connection</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">first</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span></pre><p cid=\"n52\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这回可以看到, 因为花式操作的缘故导致了程序异常, 我们使用了异常捕获语句, 前五个连接虽然有异常, 但是我们最大连接数可以容许5个连接的存在, 所以依然能执行一部分。</span></p><p cid=\"n53\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">但是, 超过五个连接以后, &nbsp;异常因为缺乏进一步的处理, 导致每次异常后disconnect方法执行不到,资源得不到释放(此处指连接数没有减少),从而使新的对象无法正常连接,自然也就取不到数据了。</span></p><p cid=\"n54\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" class=\"md-plain md-expand\" style=\"box-sizing: border-box\"> 看到这里你肯定微微一笑, 呵, 这还不是small case, 立马想到了解决方案:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n55\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">10</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">connect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">get_data</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">0</span>, <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">5</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">awesome_operate</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ZeroDivisionError</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">as</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">time</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">sleep</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">1</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;I am glad to do this!&#39;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">finally</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">disconnect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">disconnect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(170, 85, 0)\"># -----------------------almighty dividing line---------------------------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">output</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">I</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">am</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">glad</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">to</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">do</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">this</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;...</span></pre><p cid=\"n56\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">捕获异常, 在finally里执行断开连接的操作！因为finally的语句无论如何都会执行的缘故, 所以连接必将被断开。</span></p><p cid=\"n57\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">结果也是如愿, 虽然异常依然如期而至, 但是每次连接用完总是会被断开, 所以其他连接顺利创建和执行了!</span></p><p cid=\"n58\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这样写是没有问题的， 它也满足了我们的需求。</span></p><p cid=\"n59\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">但是，此处应有但是， 不然......</span></p><p cid=\"n60\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">作为一名pythoner, 简洁, 优雅始终是我们的追求。</span></p><p cid=\"n61\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">所以,</span></p><p cid=\"n62\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">我们完全可以用更简洁的方式来实现它，也就是我们本篇要讲的上下文管理器。</span></p><p cid=\"n63\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">为了引出这个我也是拼了。</span></p><p cid=\"n64\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><h4 cid=\"n65\" mdtype=\"heading\" class=\"md-end-block md-heading\" style=\"box-sizing: border-box;break-after: avoid-page;break-inside: avoid;font-size: 1.25em;margin-top: 1rem;margin-bottom: 1rem;position: relative;line-height: 1.4;cursor: text;white-space: pre-wrap;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">什么是上下文管理器</span></h4><p cid=\"n66\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"strong\" class=\"\" style=\"box-sizing: border-box\"><strong style=\"box-sizing: border-box\">帮助我们获取和释放资源并可以处理此过程中可能会出现的问题。</strong></span></p><p cid=\"n67\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">例如网络连接、数据库连接等等，我们在写这些相关的程序的时候， 往往都需要打开一个连接（创建一个对象）用完之后需要关关闭这个连接， 这一切都可以在上下文管理器中完成。</span></p><p cid=\"n68\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">还有个&quot;更专业&quot;的说法：就是实现了</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">enter</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">和</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">exit</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">这两个方法(协议)的类。</span></p><p cid=\"n69\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">在上面的例子中, 我们最终的诉求也就是获取资源用过后要记得释放。</span></p><p cid=\"n70\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这也契合了上下文管理的能力。</span></p><p cid=\"n71\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><p cid=\"n72\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">其实open就是一个内置的上下文管理器，我们可以这么使用：</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n73\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\">def read_file_to_lines(path):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;with open(path, &#39;r&#39;) as f</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;lines = f.readlines()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;return lines</span></pre><p cid=\"n74\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">对，它的使用语法就是用了一个关键字with。</span></p><p cid=\"n75\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">有一点需要理解一下:</span><span md-inline=\"strong\" class=\"\" style=\"box-sizing: border-box\"><strong style=\"box-sizing: border-box\">就像迭代器用来管理循环一样, 管理器是用来管理with语句.</strong></span></p><p cid=\"n76\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">with是一个关键词,一种语法结构, 用来使用上下文管理器.</span></p><p cid=\"n77\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">注意，即便你这么写， 你传入一个不存在的文件依旧会报错， 因为这个上下文管理器并没有对异常进行处理。那么我们想让它能处理异常，就像上面那样，该怎么做呢？</span></p><p cid=\"n78\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">来吧， 实现我们自己的上下文管理器！</span></p><p cid=\"n79\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><h4 cid=\"n80\" mdtype=\"heading\" class=\"md-end-block md-heading\" style=\"box-sizing: border-box;break-after: avoid-page;break-inside: avoid;font-size: 1.25em;margin-top: 1rem;margin-bottom: 1rem;position: relative;line-height: 1.4;cursor: text;white-space: pre-wrap;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">实现自己的上下文管理器</span></h4><p cid=\"n81\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">上一小结已经说了，实现了</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">enter</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">和</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">exit</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">这两个方法(准确点说应该叫做协议)的类就算一个上下文装饰器，既然叫做上下文管理器, 我们从字面上的意思来看就是这个过程分为两部分的:</span></p><p cid=\"n82\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">enter方法用来执行进入该上下文管理器的操作， 它只有一个默认参数对象自己， 我们不用关心，它可能会返回一个值， 如果有返回值, 这个值会被解释器绑定到as 语句后的变量上。</span></p><p cid=\"n83\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\"> exit用来执行处理完毕后， 也就是with里的代码块执行完后， 退出后所要执行的操作， 它除了一个默认参数对像自己外， 还接收三个参数：</span></p><p cid=\"n84\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">exc_type: 异常类型</span></p><p cid=\"n85\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">exc_value: 异常值</span></p><p cid=\"n86\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">exc_trace: 异常跟踪信息</span></p><p cid=\"n87\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">当with代码块里的代码发生异常的时候, 异常信息就被传入exit之中。</span></p><p cid=\"n88\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">需要注意的是:无论with里的代码块是否有异常, exit都必将执行, 也就相当于异常捕获里的finally。</span></p><p cid=\"n89\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">知道了这一点后,针对开篇的那个问题， 我们便可以这样来设计:在enter方法里我们实例化一个SuperEast对象并连接，然后返回这个对象;而在exit中我们调用断开连接的命令。</span></p><p cid=\"n90\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">代码看起来应该是这个样子的:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n91\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">class</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">Connect2East</span>(<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">object</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__init__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_name</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__enter__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_handler</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_name</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_handler</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">connect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_handler</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__exit__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">exc_type</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">exc_value</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">exc_trace</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_handler</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">disconnect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">exc_type</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">is</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ZeroDivisionError</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;Handsome D0ng&#39;</span></span></pre><p cid=\"n92\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">在exit方法中我们断开连接并判断如果出现ZeroDivisionError这个异常, 则返回True告诉解释器这个异常我cover了, 你不用在关心了。</span></p><p cid=\"n93\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这个地方的异常处理问题, 我们等下会在提到, 此处略过。</span></p><p cid=\"n94\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">将上面的代码保存，运行一下试试。</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n95\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> i <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> range(10):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;with Connect2East(i) as d:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;print(d.get_data)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> i <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> range(0, <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">5</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;awesome_operate()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(170, 85, 0)\"># -----------------------almighty dividing line---------------------------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\">output:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> a <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> apple, b <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> ball</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;a <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> apple, b <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> ball</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;a <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> apple, b <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> ball</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;...</span></pre><p cid=\"n96\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">嗯，即使我们依旧花式操作也不再有那些影响了.</span></p><p cid=\"n97\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这里有一点再啰嗦一下:with Connect2East(i) as d这条语句执行的操作是这样的:</span></p><p cid=\"n98\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">实例化一个Connect2East类的对象, 然后解释器调用这个对象的</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">enter</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">方法, 然后将这个方法的返回值绑定到as后面的那个变量d上.</span></p><p cid=\"n99\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">当with语句块执行完毕之后, 解释器又会调用这个对象的</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">exit</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"escape\" style=\"box-sizing: border-box\">_</span><span md-inline=\"plain\" style=\"box-sizing: border-box\">方法, 进行一些收尾的操作.譬如回收资源, 处理异常。</span></p><p cid=\"n100\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><h4 cid=\"n101\" mdtype=\"heading\" class=\"md-end-block md-heading\" style=\"box-sizing: border-box;break-after: avoid-page;break-inside: avoid;font-size: 1.25em;margin-top: 1rem;margin-bottom: 1rem;position: relative;line-height: 1.4;cursor: text;white-space: pre-wrap;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">偷懒也不错</span></h4><p cid=\"n102\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">至此, 上下文装饰器的大概情况已经介绍差不多了,相信你随手写出满足自己需求的装饰器也不是什么难事。</span></p><p cid=\"n103\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">可能你心里在想, 这东西好是好, 确实优雅多了, 但是简洁么, 总觉得怪怪的, 每次要写个类, 还要实现两个方法, 怎么都觉得......难道不能一个函数搞定么?</span></p><p cid=\"n104\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">嗯, 有这想法不错, 很好, 毕竟pythoner没有最懒, 只有更懒, 能懒则懒.懒才能驱动效率.</span></p><p cid=\"n105\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">所以, python的开发人员早就料到这个, 提供了一个装饰器用来帮助你实现你的愿望。</span></p><p cid=\"n106\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">那就是接下来出场的contextmanager。</span></p><p cid=\"n107\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"strong\" class=\"\" style=\"box-sizing: border-box\"><strong style=\"box-sizing: border-box\">contextmanager</strong></span></p><p cid=\"n108\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">在前面的介绍中, 我们知道了一个with语句块执行的过程实际上是分两部分的:进入时和退出时.在写自己的上下文管理器时, 我们是实现了enter和exit协议来搞定这个过程的, 如果我们想要只用一个函数来搞定,势必也需要把它的执行过程分成两部分， 应该怎么做呢?不妨想自己想一下。</span></p><p cid=\"n109\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">我相信聪明的你脑海中立马浮现了一个东西:yield!</span></p><p cid=\"n110\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">是的, 没错, 用的就是yield。</span></p><p cid=\"n111\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">有些同学可能对yeild不太熟, 我们简单的介绍一下（深入了解可自行查阅）：</span></p><p cid=\"n112\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">yield一般用在构造生成器和coroutine。它的一个特性便是把一个函数的执行过程分为两段：yield之前和之后</span></p><p cid=\"n113\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">还是用个代码示例来说明一下:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n114\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">yield_example</span>():</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">5</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;I am gonna go after u!&#39;</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">yield</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;I catch u!&#39;</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">y_gen</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">yield_example</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">10</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">next</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">y_gen</span>), <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;stop&#39;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;-&#39;</span> <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">*</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">13</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">time</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">sleep</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">3</span>)</span></pre><p cid=\"n115\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这里我们定义了一个生成器函数yield_example, 用来产出5个值(0-4), 接着创建一个生成器对象y_gen, 然后利用一个循环(我们知道生成器也是可迭代的)通过调用next(y_gen)的方式来获取产出值。执行一次next(y_gen)代码就执行到yield i产出一个值并停住, 等待下一次的next调用,下次next调用的时候它就会执行yield之后的代码，直到到达同样的位置（yield i）停住, 如此反复。</span></p><p cid=\"n116\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这里细说一下, 运行这段代码我们会看到以下结果:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n117\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box\">am</span> <span style=\"box-sizing: border-box\">gonna</span> <span style=\"box-sizing: border-box\">go</span> <span style=\"box-sizing: border-box\">after</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">0</span><span style=\"box-sizing: border-box\">,</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;stop for 3 secs&#39;</span><span style=\"box-sizing: border-box\">)</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">-------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">catch</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box\">am</span> <span style=\"box-sizing: border-box\">gonna</span> <span style=\"box-sizing: border-box\">go</span> <span style=\"box-sizing: border-box\">after</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">1</span><span style=\"box-sizing: border-box\">,</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;stop for 3 secs&#39;</span><span style=\"box-sizing: border-box\">)</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">-------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">catch</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box\">am</span> <span style=\"box-sizing: border-box\">gonna</span> <span style=\"box-sizing: border-box\">go</span> <span style=\"box-sizing: border-box\">after</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">2</span><span style=\"box-sizing: border-box\">,</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;stop for 3 secs&#39;</span><span style=\"box-sizing: border-box\">)</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">-------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">catch</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box\">am</span> <span style=\"box-sizing: border-box\">gonna</span> <span style=\"box-sizing: border-box\">go</span> <span style=\"box-sizing: border-box\">after</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">3</span><span style=\"box-sizing: border-box\">,</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;stop for 3 secs&#39;</span><span style=\"box-sizing: border-box\">)</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">-------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">catch</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box\">am</span> <span style=\"box-sizing: border-box\">gonna</span> <span style=\"box-sizing: border-box\">go</span> <span style=\"box-sizing: border-box\">after</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span><span style=\"box-sizing: border-box\">,</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;stop for 3 secs&#39;</span><span style=\"box-sizing: border-box\">)</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">-------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">I</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">catch</span> <span style=\"box-sizing: border-box\">u</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">!</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">Traceback</span> <span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box\">most</span> <span style=\"box-sizing: border-box\">recent</span> <span style=\"box-sizing: border-box\">call</span> <span style=\"box-sizing: border-box\">last</span><span style=\"box-sizing: border-box\">)</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">:</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp;<span style=\"box-sizing: border-box\">File</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;D:/1ston_martin/workspace/codes/AutoregScripts/src/TestScripts/format_temp.py&quot;</span><span style=\"box-sizing: border-box\">,</span> <span style=\"box-sizing: border-box\">line</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">189</span><span style=\"box-sizing: border-box\">,</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">&lt;</span><span style=\"box-sizing: border-box\">module</span><span style=\"box-sizing: border-box;color: rgb(152, 26, 26)\">&gt;</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box\">print</span><span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box\">next</span><span style=\"box-sizing: border-box\">(</span><span style=\"box-sizing: border-box\">y_gen</span><span style=\"box-sizing: border-box\">),</span> <span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&#39;stop for 3 secs&#39;</span><span style=\"box-sizing: border-box\">)</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box\">StopIteration</span></span></pre><p cid=\"n118\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">实际效果是, 我们会先看到&#39;I am gonna go after u!&#39;，这是yield之前的部分(即调用next之后执行的操作)。而等待三秒后会看到&#39;I catch u!......&#39;，这是属于yield之后的过程（即下一次调用next）。</span></p><p cid=\"n119\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">Ps：有一点要注意, 生成器迭代完成后会抛出一个StopIteration异常, 我们需要对此处理。</span></p><p cid=\"n120\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><p cid=\"n121\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">利用上诉特性, 我们就可以用来构造一个函数上下文管理器:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n122\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">super_east_2</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">connect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">yield</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ZeroDivisionError</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">as</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">pass</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">finally</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">disconnect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">11</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">s</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">super_east_2</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">s</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">next</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">StopIteration</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">as</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">raise</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">RuntimeError</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;generator didn&#39;t yield&quot;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">t</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">get_data</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">s</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">next</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">StopIteration</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">as</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">raise</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">RuntimeError</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;generator didn&#39;t stop&quot;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(170, 85, 0)\"># -----------------------almighty dividing line---------------------------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">output</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;...</span></pre><p cid=\"n123\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">上面的函数super_east_2里, 我们在yield之前实例化了SuperEast对象并连接, 在yield之后不管如何都会执行finally里的disconnect操作, 所以资源必将被释放.</span></p><p cid=\"n124\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">第一次调用next获取到已连接的对象, 第二次则执行之后的代码:捕获ZeroDivisionError异常和释放资源。</span></p><p cid=\"n125\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">当然不要忘记当生成器迭代完成会抛出StopIteration这个异常的问题。</span></p><p cid=\"n126\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">一定要注意, 截止到yield xxx这都属于with代码块里需要执行的语句, 所以我们需要加上异常处理, 毕竟, 群众的智慧是无穷的, 谁知道会有什么花式操作呢, 好比来个Zero Division?</span></p><p cid=\"n127\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><br/></p><p cid=\"n128\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">接下来我们用contextmanager装饰器试试, 这里需要知道一个前提：我们并不利用yield的迭代特性, 毕竟我们不循环~</span></p><p cid=\"n129\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">直接开码:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n130\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(85, 85, 85)\">@contextmanager</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">super_east</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">SuperEast</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">name</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">connect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">yield</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ZeroDivisionError</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">as</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">_</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">pass</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">finally</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">tt</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">disconnect</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">for</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">11</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">with</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">super_east</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span>) <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">as</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">print</span>(<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">get_data</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">i</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">in</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">range</span>(<span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">0</span>, <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">5</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">awesome_operate</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(170, 85, 0)\"># -----------------------almighty dividing line---------------------------------</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">output</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">a</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">apple</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">b</span> <span style=\"box-sizing: border-box;color: rgb(17, 102, 68)\">4</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">ball</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;...</span></pre><p cid=\"n131\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">有了之前的基础, 相信这一步看懂并不难, 如果还是有些疑惑, 可以参考一下下面的解释:</span></p><p cid=\"n132\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">contextmanager装饰器其实是调用了一个类形式的GeneratorContextManager上下文管理器并在这个上下文管理器, 并把生成器对象作为初始化值传了过去, 在GeneratorContextManager的enter方法里负责预激生成器对象(这里就是指的super_east)产生一个返回值,在它的exit方法里则捕获StopIteration(生成器迭代完了抛出的异常)并进行相关处理即从本次yield之后执行到下一次yield之前的动作。</span></p><p cid=\"n133\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">这里贴上GeneratorContextManager的部分代码便于大家理解:</span></p><pre spellcheck=\"false\" class=\"md-fences md-end-block ty-contain-cm modeLoaded\" cid=\"n134\" mdtype=\"fences\" style=\"box-sizing: border-box;overflow: visible;font-family: var(--monospace);font-size: 0.9em;break-inside: avoid;white-space: normal;background-image: inherit;background-position: inherit;background-size: inherit;background-repeat: inherit;background-attachment: inherit;background-origin: inherit;background-clip: inherit;border: 1px solid rgb(231, 234, 237);border-radius: 3px;padding: 8px 4px 6px;margin-bottom: 15px;margin-top: 15px;width: inherit;color: rgb(51, 51, 51);position: relative !important\"><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">class</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">GeneratorContextManager</span>(<span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">object</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;&quot;&quot;Helper for @contextmanager decorator.&quot;&quot;&quot;</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__init__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">gen</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">gen</span> = <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">gen</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__enter__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span> <span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">gen</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">next</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">StopIteration</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">raise</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">RuntimeError</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;generator didn&#39;t yield&quot;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"><span cm-text=\"\" style=\"box-sizing: border-box\"></span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">def</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 255)\">__exit__</span>(<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>, <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">type</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">value</span>, <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">traceback</span>):</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">if</span> <span style=\"box-sizing: border-box;color: rgb(51, 0, 170)\">type</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">is</span> <span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">None</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">try</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(0, 85, 170)\">self</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">gen</span>.<span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">next</span>()</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">except</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">StopIteration</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">return</span></span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">else</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">raise</span> <span style=\"box-sizing: border-box;color: rgb(0, 0, 0)\">RuntimeError</span>(<span style=\"box-sizing: border-box;color: rgb(170, 17, 17)\">&quot;generator didn&#39;t stop&quot;</span>)</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"box-sizing: border-box;color: rgb(119, 0, 136)\">else</span>:</span><br/><span role=\"presentation\" style=\"box-sizing: border-box;padding-right: 0.1px\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;...</span></pre><p cid=\"n135\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">的好了,到这里已经算是讲完了, 如果有某些细小的知识点没有涉及到, 请读者自己把握.要知道自己探索也是一个很nice的过程。</span></p><p cid=\"n139\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">最后补充一点前面所说的上下文管理器中异常处理的问题, 在一般类形式的上下文管理器中, 我们需要在exit方法中显式的告诉解释器异常已被处理, 而在使用contextmanager装饰器所写的函数上下文管理器中异常则默认是已处理的。这是因为在早期版本中yield是不能接收值的。这个时候如果我们想继续往外抛出异常， 则需要手动显式处理。</span></p><p cid=\"n136\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">如果实在有疑问, 欢迎联系, 相互交流...</span></p><p cid=\"n137\" mdtype=\"paragraph\" class=\"md-end-block md-p\" style=\"box-sizing: border-box;line-height: inherit;orphans: 4;margin-top: 0.8em;margin-bottom: 0.8em;white-space: pre-wrap;position: relative;color: rgb(51, 51, 51);font-family: &#39;Open Sans&#39;, &#39;Clear Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif\"><span md-inline=\"plain\" style=\"box-sizing: border-box\">class dismissed!</span></p><p><span md-inline=\"plain\" style=\"box-sizing: border-box\"><br/></span></p><p><br/></p>',1,1);
/*!40000 ALTER TABLE `articles_articles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `articles_articles_tags`
--

DROP TABLE IF EXISTS `articles_articles_tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles_articles_tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `articles_id` int(11) NOT NULL,
  `tags_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `articles_articles_tags_articles_id_tags_id_779e06f4_uniq` (`articles_id`,`tags_id`),
  KEY `articles_articles_tags_tags_id_62b145b7_fk_articles_tags_id` (`tags_id`),
  CONSTRAINT `articles_articles_ta_articles_id_6a3e22bc_fk_articles_` FOREIGN KEY (`articles_id`) REFERENCES `articles_articles` (`id`),
  CONSTRAINT `articles_articles_tags_tags_id_62b145b7_fk_articles_tags_id` FOREIGN KEY (`tags_id`) REFERENCES `articles_tags` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles_articles_tags`
--

LOCK TABLES `articles_articles_tags` WRITE;
/*!40000 ALTER TABLE `articles_articles_tags` DISABLE KEYS */;
INSERT INTO `articles_articles_tags` VALUES (2,2,3),(3,3,4),(4,4,4),(5,5,4),(6,6,3),(7,7,8),(8,8,4),(9,9,3),(11,11,4),(12,12,1),(15,15,1);
/*!40000 ALTER TABLE `articles_articles_tags` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `articles_categories`
--

DROP TABLE IF EXISTS `articles_categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles_categories` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles_categories`
--

LOCK TABLES `articles_categories` WRITE;
/*!40000 ALTER TABLE `articles_categories` DISABLE KEYS */;
INSERT INTO `articles_categories` VALUES (1,'技术分享'),(2,'美图分享'),(3,'生活随笔');
/*!40000 ALTER TABLE `articles_categories` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `articles_getmessage`
--

DROP TABLE IF EXISTS `articles_getmessage`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles_getmessage` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL,
  `email` varchar(254) NOT NULL,
  `subject` varchar(100) NOT NULL,
  `message` longtext NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles_getmessage`
--

LOCK TABLES `articles_getmessage` WRITE;
/*!40000 ALTER TABLE `articles_getmessage` DISABLE KEYS */;
INSERT INTO `articles_getmessage` VALUES (1,'binbio','316307555','测试','测试');
/*!40000 ALTER TABLE `articles_getmessage` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `articles_info`
--

DROP TABLE IF EXISTS `articles_info`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles_info` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(10) NOT NULL,
  `address` varchar(100) NOT NULL,
  `phone` varchar(20) NOT NULL,
  `email` varchar(254) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles_info`
--

LOCK TABLES `articles_info` WRITE;
/*!40000 ALTER TABLE `articles_info` DISABLE KEYS */;
INSERT INTO `articles_info` VALUES (1,'BinBio','湖北省武汉市江夏区','027-0000000','316307555@qq.com'),(2,'Dr.MarTin','Juppiter','12345678901','supereast@juppiter.com');
/*!40000 ALTER TABLE `articles_info` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `articles_tags`
--

DROP TABLE IF EXISTS `articles_tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles_tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles_tags`
--

LOCK TABLES `articles_tags` WRITE;
/*!40000 ALTER TABLE `articles_tags` DISABLE KEYS */;
INSERT INTO `articles_tags` VALUES (1,'Python'),(2,'Django'),(3,'技术分享'),(4,'嘚瑟一下'),(8,'生活随笔');
/*!40000 ALTER TABLE `articles_tags` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_group`
--

DROP TABLE IF EXISTS `auth_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(80) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_group`
--

LOCK TABLES `auth_group` WRITE;
/*!40000 ALTER TABLE `auth_group` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_group` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_group_permissions`
--

DROP TABLE IF EXISTS `auth_group_permissions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_group_permissions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` (`group_id`,`permission_id`),
  KEY `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` (`permission_id`),
  CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`),
  CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_group_permissions`
--

LOCK TABLES `auth_group_permissions` WRITE;
/*!40000 ALTER TABLE `auth_group_permissions` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_group_permissions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_permission`
--

DROP TABLE IF EXISTS `auth_permission`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_permission` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `content_type_id` int(11) NOT NULL,
  `codename` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `auth_permission_content_type_id_codename_01ab375a_uniq` (`content_type_id`,`codename`),
  CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=129 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_permission`
--

LOCK TABLES `auth_permission` WRITE;
/*!40000 ALTER TABLE `auth_permission` DISABLE KEYS */;
INSERT INTO `auth_permission` VALUES (65,'Can view log entry',1,'view_logentry'),(66,'Can view 博文',7,'view_articles'),(67,'Can view 博文分类',8,'view_categories'),(68,'Can view 留言处理',9,'view_getmessage'),(69,'Can view 博主信息',10,'view_info'),(70,'Can view jottings',11,'view_jottings'),(71,'Can view 标签',12,'view_tags'),(72,'Can view group',3,'view_group'),(73,'Can view permission',2,'view_permission'),(74,'Can view user',4,'view_user'),(75,'Can view content type',5,'view_contenttype'),(76,'Can view session',6,'view_session'),(77,'Can view Bookmark',13,'view_bookmark'),(78,'Can view log entry',14,'view_log'),(79,'Can view User Setting',15,'view_usersettings'),(80,'Can view User Widget',16,'view_userwidget'),(81,'Can add log entry',1,'add_logentry'),(82,'Can change log entry',1,'change_logentry'),(83,'Can delete log entry',1,'delete_logentry'),(84,'Can add permission',2,'add_permission'),(85,'Can change permission',2,'change_permission'),(86,'Can delete permission',2,'delete_permission'),(87,'Can add group',3,'add_group'),(88,'Can change group',3,'change_group'),(89,'Can delete group',3,'delete_group'),(90,'Can add user',4,'add_user'),(91,'Can change user',4,'change_user'),(92,'Can delete user',4,'delete_user'),(93,'Can add content type',5,'add_contenttype'),(94,'Can change content type',5,'change_contenttype'),(95,'Can delete content type',5,'delete_contenttype'),(96,'Can add session',6,'add_session'),(97,'Can change session',6,'change_session'),(98,'Can delete session',6,'delete_session'),(99,'Can add 博文',7,'add_articles'),(100,'Can change 博文',7,'change_articles'),(101,'Can delete 博文',7,'delete_articles'),(102,'Can add 博文分类',8,'add_categories'),(103,'Can change 博文分类',8,'change_categories'),(104,'Can delete 博文分类',8,'delete_categories'),(105,'Can add 留言处理',9,'add_getmessage'),(106,'Can change 留言处理',9,'change_getmessage'),(107,'Can delete 留言处理',9,'delete_getmessage'),(108,'Can add 博主信息',10,'add_info'),(109,'Can change 博主信息',10,'change_info'),(110,'Can delete 博主信息',10,'delete_info'),(111,'Can add 心情随笔',11,'add_jottings'),(112,'Can change 心情随笔',11,'change_jottings'),(113,'Can delete 心情随笔',11,'delete_jottings'),(114,'Can add 标签',12,'add_tags'),(115,'Can change 标签',12,'change_tags'),(116,'Can delete 标签',12,'delete_tags'),(117,'Can add Bookmark',13,'add_bookmark'),(118,'Can change Bookmark',13,'change_bookmark'),(119,'Can delete Bookmark',13,'delete_bookmark'),(120,'Can add log entry',14,'add_log'),(121,'Can change log entry',14,'change_log'),(122,'Can delete log entry',14,'delete_log'),(123,'Can add User Setting',15,'add_usersettings'),(124,'Can change User Setting',15,'change_usersettings'),(125,'Can delete User Setting',15,'delete_usersettings'),(126,'Can add User Widget',16,'add_userwidget'),(127,'Can change User Widget',16,'change_userwidget'),(128,'Can delete User Widget',16,'delete_userwidget');
/*!40000 ALTER TABLE `auth_permission` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_user`
--

DROP TABLE IF EXISTS `auth_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(128) NOT NULL,
  `last_login` datetime(6) DEFAULT NULL,
  `is_superuser` tinyint(1) NOT NULL,
  `username` varchar(150) NOT NULL,
  `first_name` varchar(30) NOT NULL,
  `last_name` varchar(150) NOT NULL,
  `email` varchar(254) NOT NULL,
  `is_staff` tinyint(1) NOT NULL,
  `is_active` tinyint(1) NOT NULL,
  `date_joined` datetime(6) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_user`
--

LOCK TABLES `auth_user` WRITE;
/*!40000 ALTER TABLE `auth_user` DISABLE KEYS */;
INSERT INTO `auth_user` VALUES (2,'pbkdf2_sha256$100000$teqcPzMTBQmm$Y/NSrxuoM8ikxZCcGDAHPAY/5OKxTf2BeeKty4zplDY=','2019-12-31 10:33:55.274057',1,'binbio','binbio','','316307555@qq.com',1,1,'2019-12-16 22:51:48.803248'),(3,'pbkdf2_sha256$100000$e8SLYPcJ08gM$nwdkXrLbgwz8GjQyeX4kaWYa+MZ8lO3hzp0a9Qz1jSc=','2019-12-19 14:36:00.097264',1,'Mr_song','Mr.Song','','',1,1,'2019-12-19 03:11:31.678969'),(4,'pbkdf2_sha256$100000$IF5Gc1XVU9rM$zxxLrMMkj0F7A6E+q42Oee45X40PFkvR5+rFRjHyyRQ=','2020-01-09 09:06:36.197027',1,'Mr_dong','Dr.MarTin','','',1,1,'2019-12-19 14:08:02.277693');
/*!40000 ALTER TABLE `auth_user` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_user_groups`
--

DROP TABLE IF EXISTS `auth_user_groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_user_groups` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `auth_user_groups_user_id_group_id_94350c0c_uniq` (`user_id`,`group_id`),
  KEY `auth_user_groups_group_id_97559544_fk_auth_group_id` (`group_id`),
  CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`),
  CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_user_groups`
--

LOCK TABLES `auth_user_groups` WRITE;
/*!40000 ALTER TABLE `auth_user_groups` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_user_groups` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `auth_user_user_permissions`
--

DROP TABLE IF EXISTS `auth_user_user_permissions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `auth_user_user_permissions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` (`user_id`,`permission_id`),
  KEY `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` (`permission_id`),
  CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`),
  CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `auth_user_user_permissions`
--

LOCK TABLES `auth_user_user_permissions` WRITE;
/*!40000 ALTER TABLE `auth_user_user_permissions` DISABLE KEYS */;
/*!40000 ALTER TABLE `auth_user_user_permissions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_admin_log`
--

DROP TABLE IF EXISTS `django_admin_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_admin_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `action_time` datetime(6) NOT NULL,
  `object_id` longtext,
  `object_repr` varchar(200) NOT NULL,
  `action_flag` smallint(5) unsigned NOT NULL,
  `change_message` longtext NOT NULL,
  `content_type_id` int(11) DEFAULT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `django_admin_log_content_type_id_c4bce8eb_fk_django_co` (`content_type_id`),
  KEY `django_admin_log_user_id_c564eba6_fk_auth_user_id` (`user_id`),
  CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`),
  CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_admin_log`
--

LOCK TABLES `django_admin_log` WRITE;
/*!40000 ALTER TABLE `django_admin_log` DISABLE KEYS */;
/*!40000 ALTER TABLE `django_admin_log` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_content_type`
--

DROP TABLE IF EXISTS `django_content_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_content_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_label` varchar(100) NOT NULL,
  `model` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `django_content_type_app_label_model_76bd3d3b_uniq` (`app_label`,`model`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_content_type`
--

LOCK TABLES `django_content_type` WRITE;
/*!40000 ALTER TABLE `django_content_type` DISABLE KEYS */;
INSERT INTO `django_content_type` VALUES (1,'admin','logentry'),(7,'articles','articles'),(8,'articles','categories'),(9,'articles','getmessage'),(10,'articles','info'),(11,'articles','jottings'),(12,'articles','tags'),(3,'auth','group'),(2,'auth','permission'),(4,'auth','user'),(5,'contenttypes','contenttype'),(6,'sessions','session'),(13,'xadmin','bookmark'),(14,'xadmin','log'),(15,'xadmin','usersettings'),(16,'xadmin','userwidget');
/*!40000 ALTER TABLE `django_content_type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_migrations`
--

DROP TABLE IF EXISTS `django_migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_migrations` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `applied` datetime(6) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_migrations`
--

LOCK TABLES `django_migrations` WRITE;
/*!40000 ALTER TABLE `django_migrations` DISABLE KEYS */;
INSERT INTO `django_migrations` VALUES (1,'contenttypes','0001_initial','2019-12-16 22:29:22.518689'),(2,'auth','0001_initial','2019-12-16 22:29:23.488197'),(3,'admin','0001_initial','2019-12-16 22:29:23.723345'),(4,'admin','0002_logentry_remove_auto_add','2019-12-16 22:29:23.734665'),(5,'articles','0001_initial','2019-12-16 22:29:24.396107'),(6,'contenttypes','0002_remove_content_type_name','2019-12-16 22:29:24.558551'),(7,'auth','0002_alter_permission_name_max_length','2019-12-16 22:29:24.656447'),(8,'auth','0003_alter_user_email_max_length','2019-12-16 22:29:24.741711'),(9,'auth','0004_alter_user_username_opts','2019-12-16 22:29:24.753738'),(10,'auth','0005_alter_user_last_login_null','2019-12-16 22:29:24.847029'),(11,'auth','0006_require_contenttypes_0002','2019-12-16 22:29:24.851489'),(12,'auth','0007_alter_validators_add_error_messages','2019-12-16 22:29:24.862332'),(13,'auth','0008_alter_user_username_max_length','2019-12-16 22:29:24.943270'),(14,'auth','0009_alter_user_last_name_max_length','2019-12-16 22:29:25.029599'),(15,'sessions','0001_initial','2019-12-16 22:29:25.130010'),(16,'xadmin','0001_initial','2019-12-16 22:29:25.778880'),(17,'articles','0002_auto_20190507_1822','2019-05-07 18:22:42.798719'),(18,'articles','0002_auto_20191220_0048','2019-12-20 00:49:16.135982');
/*!40000 ALTER TABLE `django_migrations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `django_session`
--

DROP TABLE IF EXISTS `django_session`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `django_session` (
  `session_key` varchar(40) NOT NULL,
  `session_data` longtext NOT NULL,
  `expire_date` datetime(6) NOT NULL,
  PRIMARY KEY (`session_key`),
  KEY `django_session_expire_date_a5c62663` (`expire_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `django_session`
--

LOCK TABLES `django_session` WRITE;
/*!40000 ALTER TABLE `django_session` DISABLE KEYS */;
INSERT INTO `django_session` VALUES ('1ewsk3hoj188yr2kbxwx68cmidjelcl9','MDVlZDBhZmM4MmJiM2M4YzVlNjdlOTVmODE4NzViNWRmNjU1NGQ0NTp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI3ZDZiOTYxYWJkMjY0ZWQ1YzYwMzBhYmUzNTBhNmQ2M2I1YjgzMDRhIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJhcnRpY2xlcyJdLCIiXX0=','2019-08-23 15:46:16.703217'),('5il4bsf4evat083oid1dcpa0zf2fewi3','YzAzNmFjZGIyMDkyNjliYzc1YjA4NjJlM2QzZjFhNTY2NzRjNGM4OTp7Il9hdXRoX3VzZXJfaWQiOiI0IiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI5NzlkMjg1MDJkZjJjOWRiYzc1NmRhYTMwZjdmZWMyZWZjMGI3NjRkIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJhcnRpY2xlcyJdLCIiXX0=','2020-01-23 09:10:38.367407'),('iigmgo585gbliwj3pnp0944x83mfxhl0','MDVlZDBhZmM4MmJiM2M4YzVlNjdlOTVmODE4NzViNWRmNjU1NGQ0NTp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI3ZDZiOTYxYWJkMjY0ZWQ1YzYwMzBhYmUzNTBhNmQ2M2I1YjgzMDRhIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJhcnRpY2xlcyJdLCIiXX0=','2019-05-25 20:04:23.900955'),('im356m0e3nvxpsh1k21o213t4okx41xk','NTBiZDAwMzJjMjE4ODFmYjE5MTQwMWI4MmQ0M2Y2ZGEwOTFhNTE4Njp7Il9hdXRoX3VzZXJfaWQiOiI0IiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI5NzlkMjg1MDJkZjJjOWRiYzc1NmRhYTMwZjdmZWMyZWZjMGI3NjRkIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJnZXRtZXNzYWdlIl0sIiJdfQ==','2020-01-22 06:49:35.322834'),('llbar4tpqf2xa4qhcgoo2ft5cqdy33rf','Yzg0NjcwNmMyY2VlOWQyZTkwOWI2YzkwZWExMmI5MDZhYWIxYWFlYTp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI3ZDZiOTYxYWJkMjY0ZWQ1YzYwMzBhYmUzNTBhNmQ2M2I1YjgzMDRhIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJjYXRlZ29yaWVzIl0sIiJdfQ==','2019-05-25 19:47:47.658097'),('ls3sdcrbn9cpe5wgswsw14phkrk62vw8','MjlhMmMwMjJjOGRkYjA5YTE2MjdjMzEwNGYxNmQwYmVmNDMyNTFiMjp7Il9hdXRoX3VzZXJfaWQiOiIzIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI4MmRiNmU1M2RmNWExYjg0OWE4N2E1YjZhMGFjZTQwMDY0Nzk4MjBjIiwid2l6YXJkX3hhZG1pbnVzZXJ3aWRnZXRfYWRtaW5fd2l6YXJkX2Zvcm1fcGx1Z2luIjp7InN0ZXAiOiJXaWRnZXRcdTdjN2JcdTU3OGIiLCJzdGVwX2RhdGEiOnt9LCJzdGVwX2ZpbGVzIjp7fSwiZXh0cmFfZGF0YSI6e319LCJMSVNUX1FVRVJZIjpbWyJhcnRpY2xlcyIsImdldG1lc3NhZ2UiXSwiIl19','2020-01-02 14:42:58.668587'),('m69wi319cbcttjd2wsuioy8qdwgcvdjx','YzAzNmFjZGIyMDkyNjliYzc1YjA4NjJlM2QzZjFhNTY2NzRjNGM4OTp7Il9hdXRoX3VzZXJfaWQiOiI0IiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI5NzlkMjg1MDJkZjJjOWRiYzc1NmRhYTMwZjdmZWMyZWZjMGI3NjRkIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJhcnRpY2xlcyJdLCIiXX0=','2020-01-04 09:15:02.837480'),('ownnrl43girnyxrdbypbx1hxnudusutn','NWVkNWQ1ZDc0MzNhOTQyNzVhNmY4MGViMzgyOTk0ODAzYzliYTk3Zjp7Il9hdXRoX3VzZXJfaWQiOiIyIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiJhYjM4MTdlZTI4Yjg1YTY2ZmE2NzBhOThkOTM3NDE0ZjBlMDQ2YjU2IiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJhcnRpY2xlcyJdLCIiXX0=','2020-01-14 10:36:15.133749'),('pva0zkeszmcw06oaw7eotwz5tqz7k3xk','Y2Q2OTYyYmNjYmQzYTJhNmNhYmQzZDFkY2JhODVlMDdlOTVmNDI1ZTp7Il9hdXRoX3VzZXJfaWQiOiIyIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiJhYjM4MTdlZTI4Yjg1YTY2ZmE2NzBhOThkOTM3NDE0ZjBlMDQ2YjU2IiwiTElTVF9RVUVSWSI6W1sieGFkbWluIiwibG9nIl0sIiJdfQ==','2020-01-13 15:02:42.192311'),('sg9ggbel2qzbtabekmbr7bo639k2nf71','OTU3MTE1MTNiN2I1Mjg0NzUyY2I1NjZkZTllMWY4MDhiYjNlNzg0ODp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI3ZDZiOTYxYWJkMjY0ZWQ1YzYwMzBhYmUzNTBhNmQ2M2I1YjgzMDRhIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJnZXRtZXNzYWdlIl0sIiJdfQ==','2019-05-24 11:37:11.141550'),('suwmbz02898eh1jlim0ihlpjxlz24abv','YzAzNmFjZGIyMDkyNjliYzc1YjA4NjJlM2QzZjFhNTY2NzRjNGM4OTp7Il9hdXRoX3VzZXJfaWQiOiI0IiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI5NzlkMjg1MDJkZjJjOWRiYzc1NmRhYTMwZjdmZWMyZWZjMGI3NjRkIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJhcnRpY2xlcyJdLCIiXX0=','2020-01-21 14:11:45.821142'),('tfyfg0dejnc0bs4viqx36mlwrljjktwk','YmU5MzE0NzdhMjY5MDVmNzQyMDJkODM5Mjg0OTkwZThhN2FlNmUzMTp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI3ZDZiOTYxYWJkMjY0ZWQ1YzYwMzBhYmUzNTBhNmQ2M2I1YjgzMDRhIiwiTElTVF9RVUVSWSI6W1sieGFkbWluIiwibG9nIl0sIiJdfQ==','2019-08-26 15:25:03.821928'),('yyy18qrmvmnd26zyvcoc0snte7kji8te','MWQ2NjE0ZDg5Yzk5Y2ZkN2NmYjVlODA5OGI4NjA2NmNjNTRiMTIyNjp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiI3ZDZiOTYxYWJkMjY0ZWQ1YzYwMzBhYmUzNTBhNmQ2M2I1YjgzMDRhIiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJpbmZvIl0sIiJdfQ==','2019-05-22 15:54:50.260189'),('zil6kmv0jfdzgj2gttd9t27ajbg1ar1w','ZGI5Y2U5MDQyYjBjODQyYTU2YjFjMWI0YjIwYWU5NjUwMTE5MTRhMjp7Il9hdXRoX3VzZXJfaWQiOiIyIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiJhZTQ3ZmZjMzc4MjM2ZTllMGE0ZDNjMDRlYTBmYjEwZWFmYzk3OWE0IiwiTElTVF9RVUVSWSI6W1siYXJ0aWNsZXMiLCJhcnRpY2xlcyJdLCIiXSwid2l6YXJkX3hhZG1pbnVzZXJ3aWRnZXRfYWRtaW5fd2l6YXJkX2Zvcm1fcGx1Z2luIjp7InN0ZXAiOiJXaWRnZXRcdTdjN2JcdTU3OGIiLCJzdGVwX2RhdGEiOnt9LCJzdGVwX2ZpbGVzIjp7fSwiZXh0cmFfZGF0YSI6e319fQ==','2020-01-02 20:44:26.649638');
/*!40000 ALTER TABLE `django_session` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `xadmin_bookmark`
--

DROP TABLE IF EXISTS `xadmin_bookmark`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `xadmin_bookmark` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(128) NOT NULL,
  `url_name` varchar(64) NOT NULL,
  `query` varchar(1000) NOT NULL,
  `is_share` tinyint(1) NOT NULL,
  `content_type_id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `xadmin_bookmark_content_type_id_60941679_fk_django_co` (`content_type_id`),
  KEY `xadmin_bookmark_user_id_42d307fc_fk_auth_user_id` (`user_id`),
  CONSTRAINT `xadmin_bookmark_content_type_id_60941679_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`),
  CONSTRAINT `xadmin_bookmark_user_id_42d307fc_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `xadmin_bookmark`
--

LOCK TABLES `xadmin_bookmark` WRITE;
/*!40000 ALTER TABLE `xadmin_bookmark` DISABLE KEYS */;
/*!40000 ALTER TABLE `xadmin_bookmark` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `xadmin_log`
--

DROP TABLE IF EXISTS `xadmin_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `xadmin_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `action_time` datetime(6) NOT NULL,
  `ip_addr` char(39) DEFAULT NULL,
  `object_id` longtext,
  `object_repr` varchar(200) NOT NULL,
  `action_flag` varchar(32) NOT NULL,
  `message` longtext NOT NULL,
  `content_type_id` int(11) DEFAULT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `xadmin_log_content_type_id_2a6cb852_fk_django_content_type_id` (`content_type_id`),
  KEY `xadmin_log_user_id_bb16a176_fk_auth_user_id` (`user_id`),
  CONSTRAINT `xadmin_log_content_type_id_2a6cb852_fk_django_content_type_id` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`),
  CONSTRAINT `xadmin_log_user_id_bb16a176_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `xadmin_log`
--

LOCK TABLES `xadmin_log` WRITE;
/*!40000 ALTER TABLE `xadmin_log` DISABLE KEYS */;
INSERT INTO `xadmin_log` VALUES (21,'2019-12-19 03:17:58.784092','58.19.1.188',NULL,'','delete','批量删除 1 个 日志记录',NULL,2),(22,'2019-12-19 04:27:32.244396','58.19.1.188','3','大黄蜂','create','已添加。',7,2),(23,'2019-12-19 04:28:08.396614','58.19.1.188','3','大黄蜂','change','修改 img 和 content',7,2),(24,'2019-12-19 04:30:59.730429','58.19.1.188','4','大黄蜂','create','已添加。',7,2),(25,'2019-12-19 04:31:09.026805','58.19.1.188','4','皮卡丘','change','修改 title 和 content',7,2),(26,'2019-12-19 04:33:10.455399','58.19.1.188','5','猫老师','create','已添加。',7,2),(27,'2019-12-19 04:53:53.136222','58.19.1.188','6','nginx 配置文件','create','已添加。',7,2),(28,'2019-12-19 05:11:08.855786','58.19.1.188','8','生活随笔','create','已添加。',12,2),(29,'2019-12-19 05:22:02.108692','58.19.1.188','7','24小时与自己对话','create','已添加。',7,2),(30,'2019-12-19 05:44:54.838127','58.19.1.188','7','24小时与自己对话','change','修改 img 和 content',7,2),(31,'2019-12-19 05:45:46.923087','58.19.1.188','7','24小时与自己对话','change','修改 img 和 content',7,2),(32,'2019-12-19 14:08:02.362793','58.19.0.191','4','Mr_dong','create','已添加。',4,2),(33,'2019-12-19 14:18:54.477237','171.113.251.83','2','Dr.MarTin','create','已添加。',10,4),(34,'2019-12-19 14:21:09.097671','171.113.251.83','8','夏夜','create','已添加。',7,4),(35,'2019-12-19 16:29:13.200014','59.172.149.189','9','项目部署步骤','create','已添加。',7,2),(36,'2019-12-19 16:43:44.556030','59.172.149.189','9','项目部署步骤','change','修改 content',7,2),(37,'2019-12-19 20:44:26.497692','58.19.0.191','9','项目部署步骤','change','修改 img 和 content',7,2),(38,'2019-12-21 09:14:59.767902','171.113.251.83','10','荷','create','已添加。',7,4),(39,'2019-12-21 09:15:02.699662','171.113.251.83','11','荷','create','已添加。',7,4),(40,'2019-12-28 08:53:20.870293','171.113.252.169',NULL,'','delete','批量删除 1 个 博文',NULL,4),(41,'2019-12-28 09:10:06.056537','171.113.252.169','12','Python装饰器入门','create','已添加。',7,4),(42,'2019-12-28 09:11:28.472966','171.113.252.169','12','Python装饰器入门','change','修改 img 和 content',7,4),(43,'2019-12-31 10:34:17.191015','116.66.184.184',NULL,'','delete','批量删除 1 个 博文',NULL,2),(44,'2020-01-02 17:21:22.136636','171.113.252.9','13','荒','create','已添加。',7,4),(45,'2020-01-03 17:23:57.905210','171.113.252.9','13','荒','change','修改 img',7,4),(46,'2020-01-03 17:24:53.642699','171.113.252.9','14','Python中的上下文管理器','create','已添加。',7,4),(47,'2020-01-03 17:27:05.764581','171.113.252.9','14','Python中的上下文管理器','change','修改 content',7,4),(48,'2020-01-08 06:48:09.072672','49.222.66.175',NULL,'','delete','批量删除 1 个 博文',NULL,4),(49,'2020-01-08 06:48:48.978940','49.222.66.175',NULL,'','delete','批量删除 1 个 博文',NULL,4),(50,'2020-01-09 09:10:35.665847','27.17.105.188','15','Python中的上下文管理器小说','create','已添加。',7,4);
/*!40000 ALTER TABLE `xadmin_log` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `xadmin_usersettings`
--

DROP TABLE IF EXISTS `xadmin_usersettings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `xadmin_usersettings` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `key` varchar(256) NOT NULL,
  `value` longtext NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `xadmin_usersettings_user_id_edeabe4a_fk_auth_user_id` (`user_id`),
  CONSTRAINT `xadmin_usersettings_user_id_edeabe4a_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `xadmin_usersettings`
--

LOCK TABLES `xadmin_usersettings` WRITE;
/*!40000 ALTER TABLE `xadmin_usersettings` DISABLE KEYS */;
INSERT INTO `xadmin_usersettings` VALUES (1,'dashboard:home:pos','',2),(2,'site-theme','/static/xadmin/css/themes/bootstrap-xadmin.css',2),(3,'dashboard:home:pos','',4),(4,'dashboard:home:pos','',3),(5,'site-theme','/static/xadmin/css/themes/bootstrap-theme.css',3);
/*!40000 ALTER TABLE `xadmin_usersettings` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `xadmin_userwidget`
--

DROP TABLE IF EXISTS `xadmin_userwidget`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `xadmin_userwidget` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `page_id` varchar(256) NOT NULL,
  `widget_type` varchar(50) NOT NULL,
  `value` longtext NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `xadmin_userwidget_user_id_c159233a_fk_auth_user_id` (`user_id`),
  CONSTRAINT `xadmin_userwidget_user_id_c159233a_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `xadmin_userwidget`
--

LOCK TABLES `xadmin_userwidget` WRITE;
/*!40000 ALTER TABLE `xadmin_userwidget` DISABLE KEYS */;
/*!40000 ALTER TABLE `xadmin_userwidget` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-01-15 18:29:07
